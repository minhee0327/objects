# Week 3 - chapter 5 책임 할당하기

## 📌 학습 내용 요약
- 책임 할당 과정은 일종의 트레이드 오프 활동
- GRASP 패턴
- 데이터 중심의 설계에서 책임 중심의 설계로 전환
  - 데이터보다 행동을 먼저 결정
  - 협력이라는 문맥안에서 책임을 결정
- 외부에 제공하는 행동, 곧 객체의 책임
- 메시지를 전송하는 클라이언트의 의도에 적합한 책임을 할당
- 정보 전문가 패턴은 객체가 자신이 소유하고 있는 정보와 관련된 작업을 수행한다는 일반적인 직관을 표현
  - 여기서의 정보는 데이터와 다르다.
  - 책임을 수행하는 객체가 정보를 알고 있다고 해서 그 정보를 저장 하고 있을 필요는 없다.
- Movie vs Screening
  - DiscountCondition 이 어느 객체와 협력하는것이 좋을까
  - 그 답의 실마리는 결합도에 있다.
  - Screening 은 예매를 생성하는 책임이 있지만, 영화 요금 계산과 관련된 책임 일부를 떠안아야 한다면 응집도가 낮아질 수 밖에 없다.
- 일반적으로 설계를 개선하는 작업은 변경의 이유가 하나 이상인 클래스를 찾는 것으로 시작하는 것이 좋다
  - 인스턴스 변수가 초기화 되는 시점을 살펴보고, 응집도가 낮은 경우 객체의 속성 중 일부만 초기화 하고 일부는 초기화 되지 않는 상태로 남겨진다.
  - 메서드들이 인스턴스 변수를 사용하는 방식이 속성에 따라 그룹이 나뉨
- 설계를 주도하는 것은 변경이다.
  - 코드를 이해하고 수정하기 쉽도록 최대한 단순하게 설계하고, 코드를 수정하지 않고도 변경을 수용할 수 있도록 유연하게 만드는 것
  - 상속을 이용하면, 새로운 설계를 추가하기 위해 새로운 인스턴스를 생성한 후 필요한 정보를 복사해야하며, 인스턴스가 개념적으로는 동일한 객체를 가리키지만 물리적으로 서로 대른 객체이기 때문에 혼란스러울 수 있다.
- 상속 대신 합성
- 책임과 객체 사이에서 방황할 때 돌파구를 찾기 위해서는 최대한 빠르게 목적한 기능을 수행하는 코드를 작성하는 것
  - 아무것도 없는 상태에서 책임,협력을 고민하기 보다는, 일단 실행되는 코드를 얻고 난 후 코드 상에 명확하게 드러나는 책임들을 올바르게 위치시키는 것

## 💡 느낀 점
- 메시지를 먼저 결정한다
- 누가 받을지 가정하지 않는다, 수신자에 대한 어떠한 가정도 하지 않는다.
- 메시지 전송자 관점에서 메시지 수신자가 깔끔하게 캡슐화 된다.
- 정보 전문가 패턴은 객체가 자신이 소유하고 있는 정보와 관련된 작업을 수행한다는 일반적인 직관을 표현
  - 여기서의 정보는 데이터와 다르다.
  - 책임을 수행하는 객체가 정보를 알고 있다고 해서 그 정보를 저장 하고 있을 필요는 없다.
  - 정보를 제공 할 수 있는 다른 객체를 알고 있거나 필요한 정보를 계산해서 제공할 수도 있다.
    - 정적 팩토리로 toDto, of, from 메서드를 이야기 할 때 객체로 이야기한게 아니라 클래스를 이야기 한것 같다.
      객체가 필요한 정보를 계산해서 제공할 수 있는 것이라고 생각하면, mapper 가 되었던 response 가 되었던 dto가 되었던 상관 없다.
      가장 정보를 많이 알고 있는 객체가 메시지를 처리할 책임을 할당하는 것, 그리고 이 할당에는 트레이드오프가 항상 동반된다.
- 책임과 객체 사이에서 방황할 때 돌파구를 찾기 위해서는 최대한 빠르게 목적한 기능을 수행하는 코드를 작성하는 것
  - 아무것도 없는 상태에서 책임,협력을 고민하기 보다는, 일단 실행되는 코드를 얻고 난 후 코드 상에 명확하게 드러나는 책임들을 올바르게 위치시키는 것
  - 물론 이 때 겉으로 드러나는 동작이 바뀌어서는 안된다. : 리팩토링
- 응집도 높은 메서드들로 잘게 분해
- 일단 데이터 중심으로 구현한 후 이를 리팩터링하더라도 유사한 결과를 얻을 수 있다
  - 겁먹지말고, 너무 깊게 고민하지말자, 처음부터 객체지향설계를 하겠다고 어려워하지 말자.
  - 일단 구현한 후에 리팩토링 하는것도 하나의 방법이다.
  - 캡슐화, 결합도, 응집도를 이해하고 그다음 객체지향 원칙을 적용해보자.


## ❓ 궁금한 점
- 고립된 객체의 상태에 초점을 맞춘다?


## 🔗 참고 링크
-

