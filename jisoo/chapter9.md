---
book: "오브젝트"
chapter: "챕터 9: 유연한 설계"
date: "2025-05-07"
tags: ["책요약", "오브젝트/chapter-9"]
---

# 📖 챕터 9: 유연한 설계


## 🧠 핵심 요약  
#### [[개방-폐쇄 원칙]] 
---
- 확장에 대해 열려 있어야 하고, 수정에 대해서는 닫혀 있어야 한다. 
- 확장에 대해 열려있다 -> 변경에 맞게 새로운 동작을 추가해서 애플리케이션 기능을 확장할 수 있다. 
- 수정에 대해 닫혀있다 -> 기존 코드를 수정하지 않고도 애플리케이션의 동작을 추가하거나 변경할 수 있다. 
- 즉, 코드를 수정하지 않고도 동작을 확장할 수 있는 설계
###### 컴파일타임 의존성을 고정시키고 런타임 의존성을 변경하라 
- 개방-폐쇄 원칙을 수용하는 코드는 컴파일 타임 의존성을 수정하지 않고도 런타임 의존성을 쉽게 변경할 수 있다. 
###### 추상화가 핵심이다 
- 개방-폐쇄 원칙의 핵심은 추상화에 의존 하는 것 
- 공통적인 부분으로 추상화 하면 공통적인 부분은 변하지 않아야 한다. 
- 단순히 어떤 개념을 추상화 했다고 해서 수정에 대해 닫혀 있는 설계는아니다. 의존성의 방향이 중요하다. 수정에 대한 영향을 최소하 하기 위해서는 추상화에 의존해야 한다. 
- 변하는 것과 변하지 않는 것이 무엇인지를 이해하고 이를 추상화의 목적으로 삼아야 한다. 
#### 생성 사용의 분리 
- 객체 생성을 피할 수는 없음. 객체와 관련된 두 가지 책임을 서로다른 객체로 분리해야한다. 하나는 객체를 생성하는것, 다른 하나는 객체를 사용하는것 
- 보편적인 방법은 객체 생성할 책임을 클라이언트로 옮기는 것이다.
- 클라이언트가 컨텍스트에 대한 결정권한을 가지고 있음. 그렇기 때문에 클라이언트로 생성의 책임을 넘기는게 타당하다. 
###### FACTORY 추가 하기 
- 생성과 과련된 책임만 전담하는 객체 
- FACTORY를 사용하면 생성 책임을 FACTORY에게 넘길 수 있어 기존 클라이언트 가지던 생성 책임을 넘길 수 있음. 
- FACTORY는 도메인 모델에 속하지 않음
###### 순수한 가공물에게 책임 할당하기 
- 표현적 분해: 도메인에 존재하는 사물 또는 개념을 표현하는 객체를 이용해 시스템을 분해하는 것 , 도메인 모델에 담겨 있는 개념과 관계를 따른다. 
- 행위적 분해 : 도메인과 무관한 인공적인 객체(순수한 가공물 , PURE FABRICATION)에 책침을 할당. PURE FABRICTION 은 도메인 개념보다 특정 행동에 대한 책임을 할당하기 위한 객체, 도메인 객체보다 더 많은 비중을 차지하는 것이 일반적 
- 객체지향 설계는 도메인 모델 기반으로 부족한 부분을  pure fabrication 으로 보충하는 것 

#### 의존성 주입
---
- 외부의 독립적인 객체가 인스턴스를 생성한 후 이를 전달해서 의존성을 해결하는 방법 
###### 숨겨진 의존성은 나쁘다 
- service locator 패턴 
	- 의존성 주입 외에도 의존성을 해결 할 수 있는 방법 
	- 외부에서 객체에게 의존성을 전달하는 의존성 주입과 달리 service locator에게 의존성을 해결해줄 것을 요청 
	- service locator의 가장 큰 단점은 의존성을 숨기는 것 
- 의존성 주입은 필요한 의존성을 클래스의 퍼블릭 인터페이스에 명시적으로 드러 냄으로써  이러한 단점을 해결한다. 
#### 의존성 역전 원칙 
--- 
- 상위 수준의 클래스는 하위 수준의 클래스에 의존해서는 안된다. 
- 상위 수준의 변경에 의해 하위 수준이 변경 되는 것은 납득이 가지만 하위 수준의 변경에의해 상위 수준이 변경되면 안된다
- 해결책은 추상화. 추상화에 의존하게 되면 해결 되는 부분 
- 추상화는 구체적인 사항에 의존해서는 안된다. 구체적인 상황은 추상화에 의존해야 한다. 
###### 패키지
- 인터페이스의 소유권을 클라이언트에 위치 (클라이언트와 인터페이스가 같은 패키지, 구체클래스는 다른곳)
#### 유연성에 대한 조언
--- 
- 아직 일어나지 않은 변경은 변경이 아니다.
- 유연한 설계 = 복잡한 설계 
- 유연함은 단순성과 명확성의 희생 위에서 자라난다. 



## 💡 인사이트 / 느낀 점  

## ❓ 질문 / 더 알아볼 것 

## 📌 관련 링크 또는 참고 메모 


