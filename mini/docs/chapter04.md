# Week 1 - chapter 4 설계 품질과 트레이드 오프

## 📌 학습 내용 요약
* 객체지향 설계의 핵심

  * 협력: 어플리케이션의 기능을 구현하기 위한 메시지를 주고받는 객체 사이의 상호작용

  * 역할: 대체 가능한 책임의 집합

  * 책임: 다른 객체와 협력하기 위해 수행하는 행동

* 가장 중요한 것은 **책임**

* 객체지향 설계란, 올바른 객체에게 올바른 책임을 할당하면서 낮은 결합도와 높은 응집도를 가진 구조를 창조하는 활동이다.

  * 객체지향 설계의 핵심은 '책임'

  * 책임을 할당하는 작업이 응집도와 결합도 같은 설계 품질과 깊이 연관되어있다.

* 결합도와 응집도를 합리적인 수준으로 유지하는 중요한 원칙
  : 객체의 상태가 아닌 행동에 초점을 맞추는 것

* 객체지향 설계를 데이터가 아닌 책임에 초점을 맞추는 이유 => '변경'과 관련되어있다.

* 설계 트레이드 오프
  * 캡슐화: 불안정한 구현 세부사항을 안정적인 인터페이스 뒤로 캡슐화 하는 것.
  * 응집도와 결합도
    * 응집도: 변경이 발생할 때 모듈 내부에서 발생하는 변경의 정도
    * 결합도: 한 모듈이 변경되기 위해 다른 모듈의 변경을 요구하는 정도
      * 결합도가 상관 없는 경우: 일반적으로 변경될 확률이 매우 적은 안정적인 모듈에 의존하는 것 (표준 라이브러리의 모듈, 프레임워크에 의존)
  * 캡슐화의 정도가 응집도와 결합도에 영향을 미친다.
* 데이터 중심 설계 예시 문제점
  * `getFee`, `setFee`: fee 라는 이름의 인스턴스 변수가 존재한다는 사실을 퍼블릭 인터페이스에 노골적으로 드러낸다.
* 자율적인 객체를 향해
  * 캡슐화는 설계의 제 1원리이다.
  * 속성의 가시성을 private으로 했더라도 접근자와 수정자를 통해 속성을 외부로 제공한다면 캡슐화를 위반한 것이다.
    * 코드의 중복
    * 변경에 취약
* 데이터 중심 설계의 문제점
  * 이른 시기에 데이터에 관해 결정하도록 강조함
  * 협력이라는 문맥을 고려하지 않고 객체를 고립시킨 채 오퍼레이션을 결정함.






## 💡 느낀 점
 - 캡슐화의 중요성
 - 변경이 많이 일어나는 것 (구현) / 잘 일어나지 않는 것 (인터페이스) 에 대한 구분을 제대로 해야한다.
 - 메서드명을 짓거나 파라미터로 넘길때에도 외부 객체에 정보를 노출시키면 안되는 것들을 구분할 줄 알아야함을 배웠습니다.
   `DiscountCondition.java`



## ❓ 궁금한 점

- JPA로 테이블 설계할 때 엔티티를 데이터 위주로 생각해야할지, 아니면 객체지향(책임)위주로 생각해야해야하는건지 조금 헷갈려서 GPT 문의

  ```
  ✅ 핵심 도메인인가?
  ✅ 복잡한 규칙이 들어가는가?
  ✅ 테스트/확장 가능성이 있는가?
  
  👉 그렇다면 객체지향 위주로 책임을 주자.
  
  ❌ 단순 CRUD인가?
  ❌ 화면 표시용인가?
  ❌ 거의 안 바뀌는 구조인가?
  
  👉 그렇다면 데이터 중심으로도 충분하다.



## 🔗 참고 링크

- pass