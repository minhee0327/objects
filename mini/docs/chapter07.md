# Chapter7 > 객체 분해

## 📌 학습 내용 요약

- 추상화: 불필요한 정보를 제거하고 현재의 문제 해결에 필요한 핵심을 남기는 작업
- 분해: 큰 문제를 해결 가능한 작은 문제로 나누는 작업

프로그래밍 패러다임은 추상화와 분해의 관점에서 설명이 가능하다.

### 1. 프로시저 추상화와 데이터 추상화

시스템을 분해하는 방법을 결정하기 위해서는

- 프로시저 추상화를 중심으로? (= 기능 분해, 알고리즘 분해)
- 데이터 추상화를 중심으로?
    - 데이터를 중심으로 타입 추상화 (= 추상 데이터 타입)
    - 데이터를 중심으로 프로시저를 추상화 (= 객체지향)

### 2. 프로시저 추상화와 기능분해

- 하향식 접근법
- 급여관리 시스템에 대한 추상적인 최상위 문장 기술 → 좀 더 세분화 …
- 최상위 기능을 수행하는데 필요한 절차들을 실행되는 시간순에 따라 나열한 것
- 기능 우선, 데이터는 기능을 보조하는 조연
- 하향식 기능 분해의 문제
    - **시스템은 하나의 메인함수로 구성되어있지 않다**. 실제 시스템에 정상 (TOP) 이란 존재하지 않는다.
    - **메인 함수의 빈번한 재설계:** 새로운 기능 추가시 매번 메인 함수를 수정해야한다. 추가된 코드와 상관없는 위치에서 변경이 빈번하게 일어나는 버그 발생.
    - **비즈니스 로직과 사용자 인터페이스 결합** (변경의 빈도가 서로 다름에도 결합되어있어 서로 영향을 끼침)
    - **성급하게 결정된 실행 순서**: 기능이 추가되거나 변경될 때마다 기존에 결정된 제어구조를 변경하게 만든다.
    - **데이터 변경으로 인한 파급효과:** 데이터 변경했을 뿐인데, 다른 메서드에 영향을 미치기도 함.
      아르바이트 직원을 추가했더니, 전체 급여 관리하는 엉뚱한 메서드가 변경됨;
- 하향식 분해가 유용한 경우
    - 작은 프로그램과 개별 알고리즘을 위해서는 유용한 패러다임.
    - 이미 해결된 알고리즘에 대한 문서화, 서술화

### 3. 모듈

- 변경되는 부분을 하나의 구현 단위로 묶고 퍼블릭 인터페이스를 통해서 접근하도록 만드는 것.
- 기능 기반으로 시스템을 분해하는게 아닌, 변경에 방향에 맞추어 시스템을 분해.
- 변경될 가능성이 있는 비밀을 내부로 감추고, 잘 정의되고 쉽게 변경되지 않을 퍼블릭 인터페이스를 외부에 제공해서 내부의 비밀에 함부로 접근하지 못하게 해야한다.
- 감춰야할 2가지
    - 복잡성: 모듈을 추상화하는 간단한 인터페이스 제공하여 복잡성을 낮춘다.
    - 변경 가능성: 변경 발생시 하나의 모듈만 수정하면 되도록 변경 가능한 설계 결정을 내부로 감추고, 외부에는 쉽게 변경되지 않을 인터페이스를 제공한다.
- 장점
    - 모듈 내부 변수가 변경되더라도 모듈 내부에만 영향을 미침
    - 비즈니스 로직과 사용자 인터페이스에 대한 관심사 분리
    - 전역변수와 전역함수를 제거해서 네임스페이스 오염(이름 충돌)을 방지한다.
- 단점: 인스턴스의 개념을 제공하지는 않는다.
- (정리) 모듈은 기능이 아닌 데이터를 중심으로 시스템을 분리하는 것. 데이터와 함수가 통합된 한 차원 높은 추상화를 제공하는 설계 단위

### 4. 데이터 추상화와 추상데이터 타입

- 오퍼레이션을 이용해 추상 데이터 타입을 정의할 수 있다.

### 5. 클래스

- 추상 데이터 타입: 오퍼레이션을 기준으로 타입을 묶는 방법
    - 예: caculatePay() 안에서 case별로 parttime / regular 직원의 급여 계산함
- 객체지향: 타입을 기준으로 오퍼레이션을 묶는다.
    - 예: partimeEmployee, regularEmployee로 나눈뒤 각 caculatePay가 있음
- 변경을 기준으로 선택하라
    - 클래스를 사용하고 있더라도, 타입을 기준으로 추상화를 하지 않았다면, 객체지향 분해가 아니다.
    - 타입 추가라는 변경이 강할 경우, 객체 지향의 손을 들어줘야한다. 반면 변경의 주된 압력이 오퍼레이션을 추가하는  경우라면 추상 데이터 타입의 승리.
    - 변경의 축에 맞추어 추상 데이터 타입 / 객체지향 접근법 중 선택을 해야한다.
- 협력이 중요하다. (책임 주도 설계의 흐름)
    - 타입계층과 다형성은 협력이란 문맥안에서 책임을 수행하는 방법에 관한 결과물이지 목적이 아니다.


## 💡 느낀 점
- 무조건 객제지향 접근법을 선택할게 아니라, 필요에 맞게 선택할 줄 알아야한다.


## ❓ 궁금한 점

## 🔗 참고 링크
